var TextureHandler=function(){function n(n,t){typeof t=="undefined"&&(t=1);var i=this;this.SetData=new SetData,this.GetTexture=function(){return this.dataColor},this.GetProjectionMatrix=function(){return this.projectionMatrix==null&&(this.projectionMatrix=new THREE.Matrix4(1/this.N1,0,0,0,0,1/(this.N2*this.N3),1/this.N3,0,0,0,0,0,0,0,0,this.N)),this.projectionMatrix},this.N1=n+1,this.N2=n,this.N3=n,this.M=t,this.size=this.N1*this.N2*this.N3,this.dataColor=new Uint8Array(this.size*4*t),this.SetData.x=function(n,r,u,f,e){typeof e=="undefined"&&(e=0),i.isWithinBoundary(n,r,u)&&(i.dataColor[4*e+(n+i.N1*(i.N2-1-r)+i.N1*i.N2*(i.N3-1-u))*4*t]=f)},this.SetData.y=function(n,r,u,f,e){typeof e=="undefined"&&(e=0),i.isWithinBoundary(n,r,u)&&(i.dataColor[4*e+(n+i.N1*(i.N2-1-r)+i.N1*i.N2*(i.N3-1-u))*4*t+1]=f)},this.SetData.z=function(n,r,u,f,e){typeof e=="undefined"&&(e=0),i.isWithinBoundary(n,r,u)&&(i.dataColor[4*e+(n+i.N1*(i.N2-1-r)+i.N1*i.N2*(i.N3-1-u))*4*t+2]=f)},this.SetData.a=function(n,r,u,f,e){typeof e=="undefined"&&(e=0),i.isWithinBoundary(n,r,u)&&(i.dataColor[4*e+(n+i.N1*(i.N2-1-r)+i.N1*i.N2*(i.N3-1-u))*4*t+3]=f)}}return n.prototype.GetData=function(n,t,i,r){return typeof r=="undefined"&&(r=0),[this.dataColor[4*r+(n+this.N1*(this.N2-1-t)+this.N1*this.N2*(this.N3-1-i))*4*this.M],this.dataColor[4*r+(n+this.N1*(this.N2-1-t)+this.N1*this.N2*(this.N3-1-i))*4*this.M+1],this.dataColor[4*r+(n+this.N1*(this.N2-1-t)+this.N1*this.N2*(this.N3-1-i))*4*this.M+2],this.dataColor[4*r+(n+this.N1*(this.N2-1-t)+this.N1*this.N2*(this.N3-1-i))*4*this.M+3]]},n.prototype.isWithinBoundary=function(n,t,i){return 0<=n&&n<this.N1&&0<=t&&t<this.N2&&0<=i&&i<this.N3},n.prototype.clamp=function(n,t,i){return Math.min(i,Math.max(t,n))},n}(),SetData=function(){function n(){}return n}()