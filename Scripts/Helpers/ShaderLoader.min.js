var ShaderLoader=function(){function n(){this.fragmentShaders=$('script[type="x-shader/x-fragment"]'),this.vertexShaders=$('script[type="x-shader/x-vertex"]'),this.shaderStorage=null,this.shaderCount=this.fragmentShaders.length+this.vertexShaders.length}return n.prototype.GetShaders=function(n){var t,r,i,u;if(this.callback=n,this.shaderStorage==null){for(this.shaderStorage={},t=0;t<this.fragmentShaders.length;t++)r=this.fragmentShaders[t],this.LoadShader(r,"fragment");for(i=0;i<this.vertexShaders.length;i++)u=this.vertexShaders[i],this.LoadShader(u,"vertex")}return this.shaderStorage},n.prototype.LoadShader=function(n,t){var r=this,i=$(n);$.ajax({url:i.attr("src"),dataType:"text",complete:function(n,u){return r.ProcessShader(n,u,i.attr("name"),t)}})},n.prototype.ProcessShader=function(n,t,i,r){this.shaderCount--,this.shaderStorage[i]||(this.shaderStorage[i]={vertex:"",fragment:""}),this.shaderStorage[i][r]=n.responseText,this.CheckForComplete()},n.prototype.CheckForComplete=function(){this.shaderCount||this.callback(this.shaderStorage)},n}()